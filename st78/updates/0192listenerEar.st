'Patch font with ear for listener prompt, use one tab in result'DefaultTextStyle fontset0 charForm: 20 _ (Form new fromInstance: (user fileString: updateURL + 'ear.form') asStream).TextImage understands: 'doit: forListener  | result strm c2s s	"Listener wants CR, prompt;  cmd-D wants space and select result"	["if null selection, extend to prompt or current line"	[c1 = c2  [self selectLine] self unselect].	c2s _ c2.	"evaluate the selection"	result _ Generator new evaluate: self selectionAsStream in: false to: nil notifying: self.	self select: c2s.	"add a space and print the result with cr"	strm _ Stream default.	forListener 		[strm crtab: 1; print: result; cr; next_ 20.		self paste: strm contents.		self select: c2]	"doit"	strm space; print: result; cr.	self paste: strm contents]'TextImage understands: 'selectLine 	[ "Extend the current selection back to CR or prompt,		and forward to the end of the line or text"	until (c1 = 1 or ((para(c1-1)=13) or: (para(c1-1)=20))) do		[c1 _ c1 - 1].	c2 _ para length+1 min: c1.	until (c2 = (para length+1) or parac2=13) do		[c2 _ c2 + 1]]'