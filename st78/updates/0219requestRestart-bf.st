'Send requestRestart to user to gently restart mainloop asap'Class new title: UserView	subclassof: Object	fields: 'screenrect "<Rectangle> current screen size"		vtab "<Integer=0mod2> offset from hardware top"		htab "<Integer=0mod16> offset from hardware left"		scale "<Integer=1 or 2> 2 means double bits mode"		color "<Integer> background halftone"		projectWindow "my representative in an overview"		disp "<dispframe> default message stream"		sched "<Vector> Windows in this view"		noupdate "<true|false> do not update display"'	declare: 'mxoffset myoffset screenMenu tickIndex restartRequested currentCursor ';	classified: 'Kernel Classes'UserView understands: 'requestRestart "gently restart main loop"	[restartRequested _ true]'UserView understands: 'run: topFlag | i w forward	"topFlag means sched1 already is awake"	[forward _ [topFlag [w_sched1. while w eachtime do []. w lasttime] true].	restartRequested _ false.	until restartRequested do		[i_0.		[forward or sched length = 0  [beTopWindow _ nil]			self toBottom: w.			beTopWindow _ sched1].		until [(i_i+1) > sched length[]			w _ schedi.			w inactive  [false]			w firsttime] do [self runTicks]		i>sched length		"check for bug in empty space"			[user yellowbug[self bugScreenMenu].			user shiftKey[self recognize]]		sched promote: w.		while w eachtime do [self runTicks]		forward_ w lasttime]]'