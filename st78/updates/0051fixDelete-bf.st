'Fix editor going whacky when deleting last char in a line'Textframe understands: 'replace: t1 to: t2 with: t3 | t4 t5 t6 t7 t8 t9 t10 t11 t12 t13 t14 t15 t16 t17 	[para replace: t1 to: t2 by: t3.	lastline = 0 		[self measureall.		self displayall]	t13 _ lines copy.	t9 _ lastline.	t7 _ self lineofchar: t1.	t4 _ t7.	t8 _ self lineofchar: t2.	t11 _ t3 length - (t2 - t1 + 1).	t14 _ (lines  t4) starti.	[t7 > 1 		[t10 _ self measurefrom: (lines  (t7 - 1)) starti to: para length.		lines  (t7 - 1) = t10  []		t7 _ t7 - 1.		self line: t7 _ t10.		t14 _ t10 stopi + 1]].	[t14 > para length 		[self trimLinesTo: (t4 - 1 max: 0).		para length = 0 			[window clear: white.			self]]].	t12 _ false.	t5 _ t8.	until (t12 or t14 > para length) do		[t10 _ self measurefrom: t14 to: para length.		self line: t4 _ t10.		until (t12 or (t5 > t9 or [t2 _ (t13  t5) stopi + t11.		t10 stopi < t2])) do			[t2 = t10 stopi 				[t15 _ self yofline: t5 + [t11 < 0  [0]						1].				t16 _ self yofline: t4 + [t11 < 0  [0]						1].				t8 _ t4.				t12 _ true.				t17 _ t9.				t5 _ t5 + 1.				t6 _ t5 - 1.				while [t6 _ 1 + t6.				t17  t6] do					[t4 _ t4 + 1.					self line: t4 _ t13  t6 slide: t11].				self trimLinesTo: t4]			t5 _ t5 + 1].		t14 _ t10 stopi + 1.		t4 _ t4 + 1].	[t14 > para length 		[t8 _ t4 min: lastline.		self displaylines: t7 to: t8]	(frame minX  t15 rect: window corner) blt: frame minX  t16 mode: storing.	self displaylines: t7 to: t8.	t16 < t15 and (self yofline: t9 + 1) > window maxY 		[t8 _ self lineofy: window maxY.		self displaylines: (self lineofy: window maxY - (t15 - t16)) to: t8]].	t8  lastline  [self clearfrom: (self yofline: lastline + 1)]]' classified: 'As yet unclassified'